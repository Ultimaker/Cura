
{
  "version": 2,

  "name": "ELEGOO Base Printer",

  "inherits": "fdmprinter",   

  "metadata": {
      "author": "NARUTO",
      "manufacturer": "ELEGOO",
      "visible": false,
      "file_formats": "text/x-gcode",
      "platform": "elegoo_platform.3mf",
      "platform_texture": "elegoobackplate.png",
      "platform_offset": [-2.2, 14.5, -31],
      "has_materials": true,
      "variants_name": "Print core",
      "preferred_variant_name": "NEP 0.4",
      "has_machine_quality": true,
      "preferred_quality_type": "fine",
      "preferred_material": "generic_pla_175",
      "machine_extruder_trains":
            {
                "0": "elegoo_neptune2_extruder_0"
            },
      "exclude_materials": [
        "generic_nylon_175",
        "generic_nylon",
        "generic_hips_175",
        "generic_hips",
        "generic_gffcpe",
        "generic_bvoh_175",
        "generic_ccfpe",
        "generic_cffcpe",
        "generic_cpe_plus",
        "generic_cpe_175",
        "generic_cpe",
        "generic_tpu",
        "generic_pp",
        "generic_pc",
        "generic_pc_175",
        "generic_pvc",
        "generic_pva",
        "generic_pva_175",
        "generic_pvc_175",
        "generic_pp"
        ]
        },

  "overrides": {
         "machine_head_with_fans_polygon": { "value":  [ [-55, 20], [55, 20], [55, -25], [-55, -25] ] },
         "gantry_height": {"value": "machine_height-20"},
         "material_initial_print_temperature":{"value": "material_print_temperature"},
         "material_final_print_temperature":{"value": "material_print_temperature"},
         "material_print_temperature_layer_0":{"value": "210 if material_print_temperature < 210 else material_print_temperature"},
         "machine_heated_bed":{"default_value": true},
         "material_diameter":{"default_value": 1.75},
         "machine_nozzle_size":{"default_value": 0.4},
         "wall_thickness":{"value":"wall_line_width_0 if magic_spiralize else line_width * 3"},
         "inset_direction":{"options": {"inside_out": "Inside To Outside","outside_in": "Outside To Inside"},"default_value": "inside_out"},
         "alternate_extra_perimeter":{"default_value": false},
         "skin_overlap": {"value": "5 if top_bottom_pattern != 'concentric' else 0"},
         "min_wall_line_width":{"value": "line_width * .85"},
         "retraction_hop":{"value": "layer_height if layer_height > 0.199 else 0.2"},
         "fill_outline_gaps": {"default_value": false},

         "acceleration_enabled":{"default_value": false},
         "acceleration_print":{"default_value": 1000},
         "acceleration_travel":{"value": "acceleration_print"},
         "speed_print":{"default_value": 50},
         "speed_wall":{"value": "speed_print / 2"},
         "speed_infill":{"value": "speed_print"},
         "speed_wall_x":{"value": "speed_wall"},
         "speed_topbottom":{"value": "speed_wall"},
         "speed_prime_tower":{"value": "speed_print if speed_print < 70.1 else 90 if speed_print > 100 else speed_print * 0.5+35"},
         "speed_travel":{"value": "90 if speed_print < 60.1 else speed_print * 1.5 if speed_print > 90 else speed_print+30"},
         "speed_layer_0":{"value": "20 if material_bed_temperature > 70 else 25","maximum_value_warning": "40"},
         "speed_print_layer_0":{"value": "speed_layer_0"},
         "speed_travel_layer_0": {"value": "70 if speed_layer_0 < 20 else 90 if speed_layer_0 > 40 else speed_layer_0+50"},
         "skirt_brim_speed":{"value": "speed_print_layer_0"},
         "speed_support": {"value": "speed_print if speed_wall > 0 and speed_wall < 40.01 else speed_wall + 40 "},
         "speed_support_bottom": {"value": "extruderValue(support_bottom_extruder_nr, 'speed_support_interface')"},
         "initial_layer_line_width_factor":{"value": "100.0 if resolveOrValue('adhesion_type') == 'raft' else 130"},
         "optimize_wall_printing_order":{"default_value": true },
         "z_seam_type":{"default_value": "back"},
          "z_seam_corner":{"default_value": "z_seam_corner_weighted"},
          "prime_tower_enable":{"enabled": "extruders_enabled_count > 1","default_value": true},
          "extruder_prime_pos_abs":{"default_value": false},

          "support_enable":{"default_value": false},
          "support_structure":{"default_value": "normal"},
          "support_angle":{"value": "50"},
          "support_infill_rate":{"value": "5 if support_enable and support_structure == 'tree' else 15"},
          "gradual_support_infill_step_height":{"value": "5"},
          "support_infill_angles":{"default_value": "[65]"},
          "support_brim_enable":{"value": "support_structure == 'normal' or support_structure == 'tree'"},
          "support_brim_width":{"default_value": 3 ,"value" : "6 if support_structure == 'tree' else line_width * initial_layer_line_width_factor * 0.02 " },
          "support_z_distance":{"value": "layer_height * 1.5 if (support_interface_enable and support_bottom_enable) or support_bottom_enable else layer_height","maximum_value_warning": "machine_nozzle_size * 2" },
          "support_top_distance":{"value": "extruderValue(support_roof_extruder_nr if support_roof_enable else support_infill_extruder_nr, 'layer_height') + (0 if support_structure == 'tree' else 0)"},
          "support_bottom_distance":{"value": "extruderValue(support_bottom_extruder_nr if support_bottom_enable else support_infill_extruder_nr, 'support_z_distance') if support_type == 'everywhere' else 0","maximum_value_warning": "machine_nozzle_size * 1.5"},
          "support_xy_overrides_z":{"default_value": "z_overrides_xy"},
          "support_xy_distance":{"value": "machine_nozzle_size * 1.7"},
          "support_xy_distance_overhang":{"value": "machine_nozzle_size * 1.2 if support_interface_enable else machine_nozzle_size * 0.8"},
          "support_join_distance":{"default_value": 2.0},
          "support_offset":{"default_value": 0.3},
          "gradual_support_infill_steps":{"value": "0"},
          "support_interface_enable":{"default_value": false},
          "support_interface_height":{"default_value": 1.0},
          "support_interface_skip_height": {"value": "support_interface_height"},
          "support_interface_density":{"default_value": 33.333},
          "support_interface_pattern":{"default_value": "lines"},
          "support_roof_pattern":{"value": "'grid'"},
          "support_interface_offset":{"value": "0.0"},
          "support_bottom_offset":{"value": "-0.4"},
          "support_use_towers":{"default_value": false},
          "support_tower_diameter":{"value": "3"},
          "support_tower_maximum_supported_diameter":{"value": "1"},
          "support_material_flow":{"value": "material_flow * 0.95"},
          "minimum_support_area":{"default_value": 3},
          "minimum_interface_area": {"default_value": 10},

          "adhesion_type":{"default_value": "brim"},
          "brim_width":{"default_value": 5 },
          "brim_gap":{"default_value": 0.1},
          "cool_fan_full_at_height":{"value": "layer_height_0 if resolveOrValue('adhesion_type') == 'raft' else resolveOrValue('layer_height_0')+0.4"},
          "retraction_combing":{"value": "'no_outer_surfaces' if (any(extruderValues('skin_monotonic')) or any(extruderValues('ironing_enabled')) or (any(extruderValues('roofing_monotonic')) and any(extruderValues('roofing_layer_count')))) else 'no_outer_surfaces'"},
          "retraction_combing_max_distance":{"value": "(infill_line_distance)*1.5 + 5  "},
          "travel_avoid_supports":{"default_value": false},
          "infill_pattern":{"value": "'lines' if (infill_sparse_density > 35 or speed_print >= 80) else 'grid' "},
          "infill_sparse_density":{"default_value": 15},
          "zig_zaggify_infill":{"value": "infill_pattern == 'cross' or infill_pattern == 'cross_3d' or infill_sparse_density < 30 "},
          "z_seam_position": {"default_value": "left" },
          "prime_tower_brim_enable":{"default_value": true},
          "prime_tower_size":{"default_value": 30},
          "prime_tower_min_volume":{ "value": "(layer_height) * (prime_tower_size / 2)**2 * 3 * 0.5 "},
          "prime_tower_wipe_enabled":{"default_value": false},
          "retraction_amount":{"default_value": 5},
          "switch_extruder_retraction_amount":{"value": "15 if extruders_enabled_count > 1 else machine_heat_zone_length"},
          "switch_extruder_retraction_speeds":{"default_value": 20},
          "raft_margin":{ "default_value": 5},

          "infill_overlap":{"value": "10 if infill_sparse_density < 20.01 else 5 if infill_sparse_density < 40.01 and infill_pattern != 'concentric' else 0"},
          "infill_overlap_mm":{"value": "0.5 * (infill_line_width + (wall_line_width_x if wall_line_count > 1 else wall_line_width_0)) * infill_overlap / 100"},
          "min_infill_area":{"value": "10"},
          "speed_slowdown_layers":{"value": "0 if resolveOrValue('adhesion_type') == 'raft' else speed_print / 30"},
          "raft_base_thickness":{"value": "resolveOrValue('machine_nozzle_size') * 0.75"},
          "raft_interface_thickness":{"value": "resolveOrValue('machine_nozzle_size') * 0.75"},
          "raft_surface_fan_speed":{"value": "cool_fan_speed"},
          "raft_base_line_width":{"value": "machine_nozzle_size * 2"},
          "raft_surface_thickness":{"value": "resolveOrValue('machine_nozzle_size')*0.375"},
          "raft_surface_line_width":{"value": "machine_nozzle_size * 1.25"},
          "raft_base_line_spacing":{"value": "raft_base_line_width * 2"},
          "raft_speed":{"value": "30"},
          "raft_interface_speed":{"value": "0.6 * raft_speed"},
          "raft_base_speed":{"value": "0.4 * raft_speed"},

          "cool_min_layer_time":{"value": "5"},
          "cool_fan_speed":{"enabled": "resolveOrValue('cool_fan_enabled') == 'true' or cool_fan_enabled"},
          "cool_fan_speed_min":{"enabled": "resolveOrValue('cool_fan_enabled') == 'true' or cool_fan_enabled"},
          "cool_fan_speed_max":{"enabled": "resolveOrValue('cool_fan_enabled') == 'true' or cool_fan_enabled"},
          "cool_fan_speed_0":{"value": "cool_fan_speed if resolveOrValue('adhesion_type') == 'raft' else 0","enabled": "resolveOrValue('cool_fan_enabled') == 'true' or cool_fan_enabled"}
  }
}
